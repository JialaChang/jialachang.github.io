/* 全局樣式 */
body {
    position: relative;     /* 相對定位 */
    margin: 0;      /* 移除默認外邊距 */
    padding: 0;     /* 移除默認內邊距 */
    width: 100vw;   /* 設置寬度為視窗寬度 */
    height: 100vh;  /* 設置高度為視窗高度 */
    display: flex;  /* 使用彈性盒模型 */
    align-items: center;    /* 垂直居中 */
    justify-content: center;    /* 水平居中 */
    overflow: hidden;   /* 隱藏溢出內容 */
    font-size: 16px;    /* 基本字體大小 */
    font-family: 'Trebuchet MS', '微軟正黑體', 'Microsoft JhengHei', sans-serif;    /* 設置字體 */
    color: rgba(255, 255, 255, 1.0);   /* 設置文字顏色為白色 */
    background: #020205;    /* 設置背景顏色 */
    perspective: 1000px;    /* 設置透視效果 */

    /* 禁止選取文字 */
    user-select: none;         /* 標準寫法 */
    -webkit-user-select: none; /* Safari */
    -moz-user-select: none;    /* Firefox */
    -ms-user-select: none;     /* IE10+/Edge */

}


/* 星雲背景 */
.nebula {
    z-index: -3;
    position: fixed;
    width: 200vw; height: 200vh;    /* 擴展到視窗外 */
    opacity: 0.7;
    /* 星雲漸變背景 */
    background:
        radial-gradient(circle at 30% 30%, #7d049b 0%, transparent 50%),    /* 紫色星雲 */
        radial-gradient(circle at 70% 70%, #0395a8 0%, transparent 50%),    /* 藍色星雲 */
        radial-gradient(circle at 50% 50%, #15002a 0%, transparent 60%);    /* 深色背景 */
    filter: blur(60px) contrast(1.2);    /* 模糊和對比度 */
    mix-blend-mode: screen;    /* 混合模式 */
    pointer-events: none;
    transition: transform 0.1s ease-out;
    animation: flow 20s linear infinite;    /* 星雲流動動畫 */
}


/* 星雲流動動畫 */
@keyframes flow {
    /* 旋轉並放大 */
    0% {transform: rotate(0deg) scale(1);}
    50% {transform: rotate(180deg) scale(1.1);}
    100% {transform: rotate(360deg) scale(1);}
}


/* 星星背景 */
.stars {
    z-index: -2;
    position: fixed;
    top: 0; left: 0;
    width: 1.5px; height: 1.5px;    /* 星星大小 */
    pointer-events: none;
    transition: transform 0.1s ease-out;
    animation: twinkle 5s infinite;   /* 星星閃爍動畫 */
}


/* 星星閃爍動畫 */
@keyframes twinkle {
    /* 透明度變化 */
    0%, 100% {opacity: 0.5;}
    50% {opacity: 1}
}


/* 流星背景 */
.shootingstars {
    z-index: -1;
    position: fixed;
    height: 2px;    /* 流星大小 */
    pointer-events: none;   /* 禁止鼠標事件 */
    background: linear-gradient(-45deg, #ffffff, rgba(0, 212, 255, 0));   /* 流星漸變背景 */
    filter: drop-shadow(0 0 6px #ffffff);   /* 流星光暈效果 */
    animation: tail 3s linear infinite, shooting 3s linear infinite;  /* 流星動畫 */
}


/* 流星尾巴動畫 */
@keyframes tail {
    /* 尾巴長度變化 */
    0% {width: 0;}
    50% {width: clamp(100px, 20vw, 250px);}
    100% {width: clamp(150px, 30vw, 400px);}
}


/* 流星移動動畫 */
@keyframes shooting {
    /* 從右上角移動到左下角 */
    0% {
        transform: rotate(135deg) translateX(0);
        opacity: 1;
    }
    100% {
        transform: rotate(135deg) translateX(120vh);
        opacity: 0;
    }
}


/* 玻璃面板 */
.glass-panel {
    z-index: 10;
    position: fixed;
    text-align: center;
    top: 55%; left: 50%;
    transform: translate(-50%, -50%);
    width: 80%;     /* 預設寬度 -> 手機 */
    max-width: 450px;   /* 最大寬度 -> 電腦 */
    height: 60%;    /* 預設高度 -> 手機 */
    max-height: 550px;  /* 最大高度 -> 電腦 */
    padding: clamp(1.5rem, 5vw, 2.5rem);    /* 動態內邊距 -> clamp(min, default, max) */
    border-radius: 2.5rem;
    background: rgba(255, 255, 255, 0.03);  /* 透明背景 */
    -webkit-backdrop-filter: blur(16px) saturate(80%);  /* 支援舊版 WebKit 瀏覽器 */
    backdrop-filter: blur(16px) saturate(80%);  /* 背景模糊和飽和度 */
    border: 1px solid rgba(255, 255, 255, 0.1);     /* 半透明邊框 */
    transition: all 1s cubic-bezier(0.34, 1.25, 0.64, 1);

    /* 陰影效果 */
    box-shadow: 0 0 80px rgba(0, 0, 0, 0.5),
        inset 0 0 10px rgba(255, 255, 255, 0.05);
}


/* 玻璃面板隱藏 */
.glass-panel.hidden {
    opacity: 0;
    transform: translate(-50%, 100%) scale(0.9);    /* X 要 -50% 是因為原本的會被覆蓋 */
    pointer-events: none;
}


/* 導航項目樣式 */
.nav-item {
    display: block;    /* 區塊顯示 */
    text-decoration: none;  /* 移除下劃線 */
    color: rgba(255, 255, 255, 1.0);
    font-size: clamp(0.5rem, 4vw, 1.3rem);
    font-weight: 600;
    letter-spacing: clamp(4px, 1vw, 15px);
    margin: 1.5rem;
    padding: 0.75rem;
    border-radius: 3rem;
    background: rgba(255, 255, 255, 0.05);  /* 半透明背景 */
    border: 1px solid rgba(255, 255, 255, 0.1);     /* 半透明邊框 */
    transition: all 0.4s ease; 
}


/* 導航項目懸停效果 */
.nav-item:hover {
    background: rgba(255, 255, 255, 0.2);   /* 更亮的背景 */
    transform: scale(1.05);  /* 放大效果 */
    box-shadow: 0 0 20px rgba(165, 216, 255, 0.4);  /* 發光效果 */
}


/* 網頁主標題樣式 */
h1 {
    position: relative;
    display: inline-block;  /* 行內區塊顯示 */
    cursor: pointer;    /* 鼠標改成指針樣式 */
    margin: 2rem 2rem;
    font-size: clamp(1.8rem, 8vw, 3rem);
    font-weight: 1000;
    letter-spacing: 2px;
    text-shadow: 0 0 20px rgba(165, 216, 255, 0.65);
    transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
}


/* 主標題懸停效果 */
h1:hover {
    transform: scale(1.05);  /* 放大效果 */
    text-shadow: 
        0 0 15px rgba(255, 255, 255, 0.8),
        0 0 30px rgba(165, 216, 255, 0.6);  /* 發光效果 */
}


/* 主標題在流星雨期間的強行放大 */
h1.keep-scale {
    transform: scale(1.05) !important;   /* !important 確保壓過滑鼠移開後的縮小 */
    text-shadow: 
        0 0 15px rgba(255, 255, 255, 0.8),
        0 0 30px rgba(165, 216, 255, 0.6)
        !important;  /* !important 確保壓過滑鼠移開後的取消發光 */
}


/* 主標題點擊反饋效果 */
h1.clicked {
    transform: scale(0.95) !important;  /* 點擊後縮小 */
}


/* 使用偽元素製作星星符號 (預設隱形) */
h1::before, h1::after {
    content: "✧";
    color: transparent;
    opacity: 0;
    position: absolute;
    top: 50%;   /* 垂直居中 -> 頂邊下拉 h1 的 50% */
    transform: translateY(-50%);    /* 垂直居中 -> 以自身高度往上移動 50% */
    background: linear-gradient(135deg, #3de7fd, #dd56ff);  /* 漸變背景 */
    -webkit-background-clip: text;  /* 背景裁剪到文字上 */
    background-clip: text;
    filter: drop-shadow(0 0 5px rgba(255, 255, 255, 0.2));  /* 星星光暈效果 */
    transition: all 0.5s ease;
}


/* 左邊的星星 */
h1::before {left: -5rem;}
/* 右邊的星星 */
h1::after {right: -5rem;}


/* 星星加上 .active 類別時 */
h1.active::before, h1.active::after {
    opacity: 1;  /* 顯示星星 */
    transform: translateY(-50%) scale(1.2);  /* 放大星星 */
}


/* 網頁副標題樣式 */
.subtitle {
    font-size: clamp(0.5rem, 5vw, 1.2rem);
    font-weight: 450;
    font-family: "Microsoft JhengHei", sans-serif;
    margin-bottom: 2rem;
    letter-spacing: 1.2px;
    color: rgba(255, 255, 255, 0.8);
}


/* 時鐘樣式 */
.clock {
    z-index: 10;
    position: fixed;
    top: 7.5vh;
    left: 50vw;
    transform: translateX(-50%);
    font-family: 'Courier New', monospace;
    font-weight: 1000;
    color: rgba(255, 255, 255, 0.7);
    text-align: center;
    cursor: pointer;
    transition: all 1s cubic-bezier(0.34, 1.36, 0.64, 1);
}


/* 時鐘時間樣式 */
.clock .time {
    font-size: 3rem;
    letter-spacing: 4px;
}


/* 時鐘日期樣式 (預設隱藏) */
.clock .date {
    height: 0;
    opacity: 0;
    overflow: hidden;
}


/* 時鐘展開樣式 */
.clock.expanded {
    top: 30vh;
}


/* 時鐘時間展開樣式 */
.clock.expanded .time {
    font-size: clamp(3.5rem, 18vw, 8rem);
    color: rgba(255, 255, 255, 0.85);
    text-shadow: 0 0 30px rgba(165, 216, 255, 0.5);
}


/* 時鐘日期展開樣式 */
.clock.expanded .date {
    height: auto;
    opacity: 1;
    font-size: 2rem;
    margin: 2.5rem;
}